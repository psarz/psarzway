// Sample videos configuration
// IMPORTANT: Replace these with your actual YouTube video IDs from @psarz channel
// 
// HOW TO GET YOUR VIDEO ID:
// 1. Go to your YouTube channel: https://www.youtube.com/@psarz
// 2. Click on a video
// 3. Copy the video ID from URL: youtube.com/watch?v=YOUR_ID_HERE
// 4. Replace the 'id' value below with your video ID
// 5. Update title, description, date, duration, views accordingly
//
// IMPORTANT: Make sure videos are:
// - PUBLIC (not private/unlisted)
// - Embedding ENABLED in video settings
//
const videosConfig = [
    {
        id: "inPEpiGFIFk",
        title: "1 January 2026",
        category: "rides",
        description: "",
        duration: "1:03",
        date: "2026-01-01",
        views: "202"
    },
    {
        id: "bwcNXOXzm_Q",
        title: "30 December 2025",
        category: "rides",
        description: "",
        duration: "2:05",
        date: "2025-12-30",
        views: "17"
    },
    {
        id: "LcweXJqEeEs",
        title: "Yercaud | dash cam footage",
        category: "rides",
        description: "",
        duration: "1:41:48",
        date: "2025-12-24",
        views: "164"
    },
    {
        id: "uCd1A-7U2Ig",
        title: "20 December 2025",
        category: "rides",
        description: "",
        duration: "1:29",
        date: "2025-12-20",
        views: "190"
    },
    {
        id: "QZ9NeD_s5wU",
        title: "Yercaud, TN, India ",
        category: "rides",
        description: "",
        duration: "3:41",
        date: "2025-12-15",
        views: "10"
    },
    {
        id: "fW839hyXV78",
        title: "Mekedatu",
        category: "rides",
        description: "",
        duration: "1:56",
        date: "2025-12-09",
        views: "18"
    },
    {
        id: "x-tcxGk8n7I",
        title: "Mekedatu viewpoint | Kaveri river | DJI mini 4 pro",
        category: "rides",
        description: "",
        duration: "1:35",
        date: "2025-12-08",
        views: "47"
    },
    {
        id: "ESv5UUNL3sM",
        title: "28 November 2025",
        category: "rides",
        description: "",
        duration: "1:00",
        date: "2025-11-28",
        views: "15"
    },
    {
        id: "vqCMbbRFJ8k",
        title: "can't we keep our city clean? people with no civic sense | Bangalore #bbmp",
        category: "rides",
        description: "",
        duration: "1:05",
        date: "2025-11-28",
        views: "13"
    },
    {
        id: "krRYTuJhdMM",
        title: "28 November 2025",
        category: "rides",
        description: "",
        duration: "1:01",
        date: "2025-11-28",
        views: "749"
    },
    {
        id: "gnZ-riTWhH4",
        title: "19 Nov 2025 | alone & stronger üí™",
        category: "rides",
        description: "",
        duration: "3:17",
        date: "2025-11-19",
        views: "3"
    },
    {
        id: "9a_Gn6WhY0s",
        title: "16 Nov 2025",
        category: "rides",
        description: "",
        duration: "1:27",
        date: "2025-11-16",
        views: "216"
    },
    {
        id: "_ABpp1Ta9Zw",
        title: "NOV 2025, Friday Morning üåÑ, Drone shots ",
        category: "rides",
        description: "",
        duration: "2:04",
        date: "2025-11-14",
        views: "4"
    },
    {
        id: "iSprzLghXvk",
        title: "11 November 2025",
        category: "rides",
        description: "",
        duration: "24:41",
        date: "2025-11-10",
        views: "9"
    },
    {
        id: "g9-Wta9_Kec",
        title: "Sivasamudra Falls Adventure | 125km Ride from Bangalore | Cinematic Travel Vlog üåø | for big screens",
        category: "reviews",
        description: "Join us on an unforgettable road trip from Bangalore to the breathtaking Sivasamudra Waterfalls, one of Karnataka‚Äôs most stunning natural wonders! üöóÔøΩ",
        duration: "4:36",
        date: "2025-11-10",
        views: "32"
    },
    {
        id: "IGqP9v43wGo",
        title: "Sivasamudra Falls Adventure | 125km Ride from Bangalore | Cinematic Travel Vlog üåø | mobile video",
        category: "reviews",
        description: "Join us on an unforgettable road trip from Bangalore to the breathtaking Sivasamudra Waterfalls, one of Karnataka‚Äôs most stunning natural wonders! üöóÔøΩ",
        duration: "3:42",
        date: "2025-11-10",
        views: "9"
    },
    {
        id: "vYe3t-uOkdQ",
        title: "üèçÔ∏è Triumph Thruxton 400 Test Ride | First Impressions & Ride Review | Cafe Racer Style Unleashed! ‚òïüî•",
        category: "reviews",
        description: "Experience the classic charm meets modern performance with the Triumph Thruxton 400! In this video, we take this stunning caf√© racer for a test ride t",
        duration: "2:56",
        date: "2025-11-06",
        views: "236"
    },
    {
        id: "KrAZ3-ZYAiM",
        title: "Bateshwar Dham ‚Äì The Sacred Land of 108 Shiva Temples | Drone View | Yamuna River, Agra",
        category: "rides",
        description: "Experience the divine beauty of Bateshwar Dham, a hidden spiritual gem located near Bah, Agra, Uttar Pradesh. Perched gracefully on the serene banks o",
        duration: "1:25",
        date: "2025-11-06",
        views: "17"
    },
    {
        id: "j66qYAXkC4Q",
        title: "Morning Serenity | Drone View of a Lush Green Lake in Golden Light üåø‚òÄÔ∏è",
        category: "rides",
        description: "Experience the calm and beauty of nature from above. Captured by drone, this breathtaking footage takes you over a lush green lake surrounded by misty",
        duration: "3:36",
        date: "2025-11-04",
        views: "20"
    },
    {
        id: "1DYEFTbjdms",
        title: "electronic City lake",
        category: "rides",
        description: "",
        duration: "1:01",
        date: "2025-11-01",
        views: "6"
    },
    {
        id: "9AsWkOa5Ejk",
        title: "26 October 2025",
        category: "rides",
        description: "",
        duration: "12:59",
        date: "2025-10-26",
        views: "16"
    },
    {
        id: "tFbSNXqfuqQ",
        title: "Bateswar, Agra",
        category: "rides",
        description: "",
        duration: "1:19",
        date: "2025-10-20",
        views: "84"
    },
    {
        id: "jNAS1aSccJs",
        title: "17 Oct 2025",
        category: "rides",
        description: "",
        duration: "1:00",
        date: "2025-10-18",
        views: "50"
    },
    {
        id: "vnRQhGhRMl4",
        title: "Bateshwar Yamuna..",
        category: "rides",
        description: "",
        duration: "1:04",
        date: "2025-10-15",
        views: "279"
    },
    {
        id: "fQAl5HrqoVM",
        title: "Dji vlog 3 | 15 October 2025",
        category: "rides",
        description: "",
        duration: "3:26",
        date: "2025-10-15",
        views: "16"
    },
    {
        id: "fGVFJH6gSqk",
        title: "15 October 2025",
        category: "rides",
        description: "",
        duration: "1:02",
        date: "2025-10-15",
        views: "148"
    },
    {
        id: "z6K7ZYzA_tM",
        title: "Rampur Chandrasaini, Bah, Agra | DJI MINI 4 Pro",
        category: "rides",
        description: "",
        duration: "1:39",
        date: "2025-10-14",
        views: "125"
    },
    {
        id: "f5jR_Di8zOw",
        title: "Gaon X DJI MINI 4 Pro",
        category: "rides",
        description: "",
        duration: "1:51",
        date: "2025-10-14",
        views: "284"
    },
    {
        id: "K_dj2UHD__g",
        title: "cleaning bot..",
        category: "rides",
        description: "",
        duration: "1:01",
        date: "2025-10-11",
        views: "144"
    },
    {
        id: "U_xV-jHWZvI",
        title: "cycling..",
        category: "rides",
        description: "",
        duration: "1:16",
        date: "2025-10-09",
        views: "22"
    },
    {
        id: "rIoKTqUsYuo",
        title: "morning ride | 9 oct 2025",
        category: "rides",
        description: "",
        duration: "2:44",
        date: "2025-10-09",
        views: "58"
    },
    {
        id: "R6UxUvFbSoA",
        title: "Cradiac Xc900 Gen3 Unboxing",
        category: "rides",
        description: "",
        duration: "2:17",
        date: "2025-10-07",
        views: "1.6K"
    },
    {
        id: "CHxAu5ZPl6g",
        title: "office commute..",
        category: "rides",
        description: "",
        duration: "2:37",
        date: "2025-10-01",
        views: "277"
    },
    {
        id: "aYoZ6N4xsTI",
        title: "taxes like London for Roads like Somalia - Welcome to Bangalore",
        category: "rides",
        description: "",
        duration: "1:46",
        date: "2025-10-01",
        views: "216"
    },
    {
        id: "HzHb1ZdxtmA",
        title: "Fun ride",
        category: "rides",
        description: "",
        duration: "6:01",
        date: "2025-09-30",
        views: "84"
    },
    {
        id: "i-fAyt5DmTE",
        title: "Ramanagara - KA",
        category: "rides",
        description: "",
        duration: "3:15",
        date: "2025-07-22",
        views: "31"
    },
    {
        id: "8sqHgKdKJhw",
        title: "Ramanagara - Bangalore",
        category: "rides",
        description: "",
        duration: "26:39",
        date: "2025-07-14",
        views: "18"
    },
    {
        id: "Jkz5zil8dOI",
        title: "Anjanadri hill road",
        category: "rides",
        description: "",
        duration: "2:01",
        date: "2025-07-11",
        views: "13"
    },
    {
        id: "5KohA-8zgvQ",
        title: "BLR-HYD",
        category: "rides",
        description: "",
        duration: "4:02",
        date: "2025-06-17",
        views: "5"
    },
    {
        id: "6rnk6ZUikQI",
        title: "Solapur to Bangalore trip | beautiful roads for long drive ..",
        category: "rides",
        description: "",
        duration: "21:09",
        date: "2025-06-07",
        views: "118"
    },
    {
        id: "-vOUOfrPEgg",
        title: "Ktm Adventure 390x | test ride",
        category: "rides",
        description: "",
        duration: "10:11",
        date: "2025-06-06",
        views: "201"
    },
    {
        id: "K11FIqo1LK8",
        title: "Bah - Mainpuri trip",
        category: "rides",
        description: "",
        duration: "40:17",
        date: "2025-06-05",
        views: "8"
    },
    {
        id: "07cBT5mmjnw",
        title: "Bah - Mainpuri trip | 70Mai x800",
        category: "rides",
        description: "",
        duration: "47:05",
        date: "2025-06-01",
        views: "13"
    },
    {
        id: "14suFGpblWM",
        title: "Trip to Rameshwaram | only roads",
        category: "rides",
        description: "",
        duration: "8:55",
        date: "2025-06-01",
        views: "68"
    },
    {
        id: "2y4SK_lktZ0",
        title: "Nh44 - Nagpur Sioni",
        category: "rides",
        description: "",
        duration: "1:01",
        date: "2025-05-04",
        views: "6"
    },
    {
        id: "CXQvwyHLcxc",
        title: "Hyderabad - outer ring road",
        category: "rides",
        description: "",
        duration: "1:01",
        date: "2025-05-04",
        views: "22"
    },
    {
        id: "LJUIYnNoFBc",
        title: "70mai x800 video sample",
        category: "rides",
        description: "",
        duration: "1:01",
        date: "2025-04-29",
        views: "14"
    },
    {
        id: "hqmuRs1TTMI",
        title: "R15v4",
        category: "reviews",
        description: "took the test ride of Aprilia tuono 457, I was able to reach 100+ speed on the testing road then I tried to achieve max speed with r15v4, I was able t",
        duration: "1:11",
        date: "2025-04-28",
        views: "9"
    },
    {
        id: "Ggu2PaGRqpU",
        title: "Nice road part 1",
        category: "rides",
        description: "",
        duration: "5:20",
        date: "2025-03-16",
        views: "15"
    },
    {
        id: "9XGIxTZhI_o",
        title: "Ramanagara part 2",
        category: "rides",
        description: "",
        duration: "5:20",
        date: "2025-03-16",
        views: "7"
    },
    {
        id: "8_FlmZTYk8Q",
        title: "Ramanagara part 1",
        category: "rides",
        description: "",
        duration: "5:20",
        date: "2025-03-16",
        views: "4"
    },
    {
        id: "D-few6kx_rs",
        title: "Nice road part 2",
        category: "rides",
        description: "",
        duration: "5:20",
        date: "2025-03-16",
        views: "21"
    },
    {
        id: "6ZXTUgURWiA",
        title: "Nice road part 3",
        category: "rides",
        description: "",
        duration: "3:07",
        date: "2025-03-16",
        views: "35"
    },
    {
        id: "OxYs7PUM5G0",
        title: "shivgange return trip",
        category: "rides",
        description: "",
        duration: "9:57",
        date: "2024-05-13",
        views: "28"
    },
    {
        id: "_V6pRFdFXRQ",
        title: "Aprilia rs457 white colour-  close look",
        category: "rides",
        description: "",
        duration: "1:40",
        date: "2024-04-03",
        views: "406"
    },
    {
        id: "gT_n9Hm4Rfg",
        title: "26Jan2024 ride",
        category: "rides",
        description: "",
        duration: "5:20",
        date: "2024-03-31",
        views: "15"
    },
    {
        id: "j8s_kfwGUj0",
        title: "rs457 Aprilia",
        category: "rides",
        description: "",
        duration: "3:09",
        date: "2024-03-30",
        views: "3.0K"
    },
    {
        id: "8xMhBqv51yw",
        title: "2, Bangalore",
        category: "rides",
        description: "",
        duration: "1:03",
        date: "2022-12-02",
        views: "27"
    },
    {
        id: "_3qe-oGTSpc",
        title: "Bangalore fort",
        category: "rides",
        description: "",
        duration: "3:28",
        date: "2022-11-27",
        views: "16"
    },
    {
        id: "77A1iyrZ28Y",
        title: "vid002",
        category: "rides",
        description: "",
        duration: "3:27",
        date: "2022-07-22",
        views: "34"
    },
    {
        id: "7ZYGN2Zsn70",
        title: "central India | Agra to Bangalore journey.. solo ride",
        category: "rides",
        description: "",
        duration: "2:48",
        date: "2022-07-10",
        views: "22"
    },
    {
        id: "lqKqehDCmr4",
        title: "hyderabad",
        category: "rides",
        description: "I captured this video in my journey from Agra to Bangalore, on day 2 Nagpur to Hyderabad.

#ridesafe
#soloride
#r15m
#india",
        duration: "3:16",
        date: "2022-07-03",
        views: "39"
    },
    {
        id: "uIIOuO3BxbI",
        title: "Hyderabad to Nagpur",
        category: "reviews",
        description: "In this video you can see my journey from Hyderabad to Nagpur.
Travel Date: 21 Dec 2022.
Trip name: Bangalore to Agra by R15M.

Shot on : GoPro hero 9",
        duration: "15:27",
        date: "2022-06-05",
        views: "50"
    },
    {
        id: "WAeKAAGNYns",
        title: "Bangalore to Hyderabad",
        category: "rides",
        description: "This is video from my journey from Bangalore to Agra, Day 1, I stayed at Hyderabad.  
Travel date: 20 Dec 2021.",
        duration: "2:45",
        date: "2022-05-29",
        views: "69"
    },
    {
        id: "TjCZqiKfOhY",
        title: "Yamaha R15M, Raw Sound, 4k, part-2",
        category: "rides",
        description: "This is part 2 of Yamaha r15m, raw sound in 4k series, I am excited and very happy to share my experience with my youtube family.

if you like my work",
        duration: "5:20",
        date: "2022-04-05",
        views: "24"
    }
];

// Shorts configuration - fetched from YouTube
const shortsConfig = [
    {
        id: "cU7IungOy-c",
        title: "Quick Clip",
        link: "https://www.youtube.com/shorts/cU7IungOy-c"
    },
    {
        id: "BM-LguoiDlM",
        title: "Ride Moment",
        link: "https://www.youtube.com/shorts/BM-LguoiDlM"
    },
    {
        id: "PL9uqO90KVQ",
        title: "Adventure",
        link: "https://www.youtube.com/shorts/PL9uqO90KVQ"
    },
    {
        id: "bwcNXOXzm_Q",
        title: "Highlight",
        link: "https://www.youtube.com/shorts/bwcNXOXzm_Q"
    },
    {
        id: "_KqsYD2vVu4",
        title: "Latest",
        link: "https://www.youtube.com/shorts/_KqsYD2vVu4"
    }
];

// DOM Elements
const videosGrid = document.getElementById('videosGrid');
const searchInput = document.getElementById('searchInput');
const categoryFilter = document.getElementById('categoryFilter');
const featuredVideo = document.getElementById('featuredVideo');
const modal = document.getElementById('videoModal');
const closeBtn = document.querySelector('.close');
const menuToggle = document.getElementById('menuToggle');
const navMenu = document.getElementById('navMenu');
const shortsGrid = document.getElementById('shortsGrid');

// Initialize
document.addEventListener('DOMContentLoaded', () => {
    if (featuredVideo) loadFeaturedVideo();
    // Check if we're on the homepage or all videos page
    const isAllVideosPage = document.body.classList.contains('all-videos-page');
    if (isAllVideosPage) {
        loadVideos(); // Show all videos
    } else {
        loadVideos({}, 12); // Show only 12 videos on homepage
    }
    if (shortsGrid) loadShorts();
    setupEventListeners();
});

// Load featured video (latest)
function loadFeaturedVideo() {
    if (!featuredVideo || videosConfig.length === 0) return;
    
    const latest = videosConfig[0];
    const embed = `<iframe width="100%" height="100%" src="https://www.youtube.com/embed/${latest.id}?autoplay=0" title="${latest.title}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
    featuredVideo.innerHTML = embed;
}

// Load and display YouTube Shorts
function loadShorts() {
    if (!shortsGrid || shortsConfig.length === 0) return;
    
    shortsGrid.innerHTML = shortsConfig.map(short => createShortCard(short)).join('');
}

// Create short card HTML
function createShortCard(short) {
    return `
        <a href="${short.link}" target="_blank" class="short-card">
            <div class="short-thumbnail">
                <img src="https://img.youtube.com/vi/${short.id}/mqdefault.jpg" alt="${short.title}">
                <div class="short-icon">üì±</div>
            </div>
            <p class="short-title">${short.title}</p>
        </a>
    `;
}

// Load and display videos (with optional limit for homepage)
function loadVideos(filter = {}, limit = null) {
    if (!videosGrid) return; // Exit if no videos grid on this page
    
    const filtered = videosConfig.filter(video => {
        const matchesSearch = !filter.search || 
            video.title.toLowerCase().includes(filter.search.toLowerCase()) ||
            video.description.toLowerCase().includes(filter.search.toLowerCase());
        
        const matchesCategory = !filter.category || video.category === filter.category;
        
        return matchesSearch && matchesCategory;
    });

    if (filtered.length === 0) {
        videosGrid.innerHTML = '<div class="loading">No videos found</div>';
        return;
    }

    // Limit results if specified (for homepage)
    const toDisplay = limit ? filtered.slice(0, limit) : filtered;
    
    videosGrid.innerHTML = toDisplay.map(video => createVideoCard(video)).join('');
    
    // Add click listeners to cards
    document.querySelectorAll('.video-card').forEach(card => {
        card.addEventListener('click', (e) => {
            const videoId = e.currentTarget.dataset.videoId;
            openVideoModal(videoId);
        });
    });
}

// Create video card HTML
function createVideoCard(video) {
    return `
        <div class="video-card" data-video-id="${video.id}">
            <div class="video-thumbnail">
                <img src="https://img.youtube.com/vi/${video.id}/hqdefault.jpg" alt="${video.title}">
                <div class="play-button">‚ñ∂</div>
                <div class="duration">${video.duration}</div>
            </div>
            <div class="video-info">
                <span class="video-category">${video.category}</span>
                <h3>${video.title}</h3>
                <div class="video-meta">
                    <span class="video-views">üëÅÔ∏è ${video.views}</span>
                    <span class="video-date">${formatDate(video.date)}</span>
                </div>
            </div>
        </div>
    `;
}

// Format date
function formatDate(dateStr) {
    const date = new Date(dateStr);
    const now = new Date();
    const diff = Math.floor((now - date) / (1000 * 60 * 60 * 24));
    
    if (diff === 0) return 'Today';
    if (diff === 1) return 'Yesterday';
    if (diff < 7) return `${diff}d ago`;
    if (diff < 30) return `${Math.floor(diff / 7)}w ago`;
    if (diff < 365) return `${Math.floor(diff / 30)}mo ago`;
    return date.toLocaleDateString();
}

// Open video modal
function openVideoModal(videoId) {
    if (!modal) return; // Skip if modal doesn't exist on this page
    
    const video = videosConfig.find(v => v.id === videoId);
    if (!video) return;

    const modalVideo = document.getElementById('modalVideo');
    const modalInfo = document.getElementById('modalInfo');

    if (!modalVideo || !modalInfo) return;

    modalVideo.innerHTML = `<iframe width="100%" height="100%" src="https://www.youtube.com/embed/${videoId}?autoplay=1" title="${video.title}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
    
    modalInfo.innerHTML = `
        <h2>${video.title}</h2>
        <div class="video-meta" style="margin-top: 12px; margin-bottom: 16px;">
            <span>üëÅÔ∏è ${video.views}</span>
            <span>üìÖ ${formatDate(video.date)}</span>
        </div>
        <p>${video.description}</p>
    `;

    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

// Close modal
function closeModal() {
    if (!modal) return; // Skip if modal doesn't exist on this page
    modal.classList.remove('active');
    document.body.style.overflow = 'auto';
    const modalVideo = document.getElementById('modalVideo');
    if (modalVideo) modalVideo.innerHTML = '';
}

// Setup event listeners
function setupEventListeners() {
    // Search
    if (searchInput) {
        searchInput.addEventListener('input', (e) => {
            loadVideos({
                search: e.target.value,
                category: categoryFilter ? categoryFilter.value : ''
            });
        });
    }

    // Category filter
    if (categoryFilter) {
        categoryFilter.addEventListener('change', (e) => {
            loadVideos({
                search: searchInput ? searchInput.value : '',
                category: e.target.value
            });
        });
    }

    // Modal close
    if (closeBtn && modal) {
        closeBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // Keyboard escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });
    }

    // Mobile menu toggle
    if (menuToggle && navMenu) {
        menuToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Close menu when clicking nav links
        document.querySelectorAll('.nav-menu a').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });
    }

    // Update active nav link on scroll
    window.addEventListener('scroll', updateActiveNavLink);
    updateActiveNavLink();
}

// Update active nav link based on scroll position
function updateActiveNavLink() {
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-menu a');

    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if (pageYOffset >= sectionTop - 100) {
            current = section.getAttribute('id');
        }
    });

    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href').substring(1) === current) {
            link.classList.add('active');
        }
    });
}

// Newsletter form submission
function handleNewsletterSubmit(e) {
    e.preventDefault();
    const email = e.target.querySelector('input[type="email"]').value;
    
    // Simple validation and feedback
    alert(`Thank you for subscribing with ${email}!\nWe'll keep you updated on new videos.`);
    e.target.reset();
}
